{% extends "base.html" %} {% block title %}Profil Düzenle{% endblock %} {% block
content %}
<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h3>Profil Düzenle</h3>
        </div>
        <div class="card-body">
          {% with messages = get_flashed_messages(with_categories=true) %} {% if
          messages %} {% for category, message in messages %}
          <div class="alert alert-{{ category }}">{{ message }}</div>
          {% endfor %} {% endif %} {% endwith %}

          <form method="POST" id="editProfileForm">
            <div class="form-group mb-3">
              <label for="fullname">Ad Soyad *</label>
              <input
                type="text"
                class="form-control"
                id="fullname"
                name="fullname"
                value="{{ user.fullname }}"
                required
              />
              <div class="form-text">
                Ad soyad sadece harfler ve boşluk içerebilir.
              </div>
            </div>

            <div class="form-group mb-3">
              <label for="username">Kullanıcı Adı *</label>
              <input
                type="text"
                class="form-control"
                id="username"
                name="username"
                value="{{ user.username }}"
                required
              />
              <div class="form-text">
                Kullanıcı adı sadece harfler, rakamlar ve alt çizgi içerebilir.
              </div>
            </div>

            <div class="form-group mb-3">
              <label for="email">E-posta *</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                value="{{ user.email }}"
                required
              />
              <div class="form-text">
                Geçerli bir e-posta adresi giriniz (örn: example@example.com).
              </div>
            </div>

            <div class="form-group mb-3">
              <label for="phone">Telefon (İsteğe bağlı)</label>
              <input
                type="tel"
                class="form-control"
                id="phone"
                name="phone"
                value="{{ user.phone or '' }}"
                placeholder="+90 5XX XXX XX XX"
              />
              <div class="form-text">
                Geçerli bir telefon numarası giriniz (örn: +90 5XX XXX XX XX)
              </div>
            </div>

            <div class="form-group mb-3">
              <label for="current_password">Mevcut Şifre</label>
              <input
                type="password"
                class="form-control"
                id="current_password"
                name="current_password"
                placeholder="Şifre değiştirme için mevcut şifrenizi giriniz"
              />
              <div class="form-text">
                Şifre değiştirmek istiyorsanız bu alanı doldurunuz.
              </div>
            </div>

            <div class="form-group mb-3">
              <label for="new_password">Yeni Şifre</label>
              <input
                type="password"
                class="form-control"
                id="new_password"
                name="new_password"
                placeholder="Yeni şifre (boş bırakırsanız değişmez)"
              />
              <div class="form-text">
                Şifre en az 4 karakter uzunluğunda olmalıdır. Şifrenizi
                değiştirmek istemiyorsanız bu alanı boş bırakın.
              </div>
            </div>

            <div class="form-group">
              <button type="submit" class="btn btn-primary">Kaydet</button>
              <a href="{{ url_for('profile') }}" class="btn btn-secondary"
                >İptal</a
              >
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
